function draw_horizontal_segment(img, array, x, y):
    // Initialize a new line structure
    line = new t_line structure
    
    // Set the start point of the line
    line.start.x = x
    line.start.y = y
    line.start.z = array[y][x]  // Assuming 'z' represents height or elevation from 'array'
    
    // Set the end point of the line (horizontal segment to the right)
    line.end.x = x + 1
    line.end.y = y
    line.end.z = array[y][x + 1]
    
    // Convert start and end points to isometric coordinates
    get_iso_coords(img, line)
    
    // Calculate differences and slopes for Bresenham's algorithm
    infos_bresenham(line)
    
    // Draw the line using Bresenham's algorithm
    draw_bresenham(line, img)

function draw_map(img, array, height, width):
    for y from 0 to height - 1:
        for x from 0 to width - 1:
            if x < width - 1:  // Check to avoid going out of bounds
                draw_horizontal_segment(img, array, x, y)
            // Add similar logic for vertical segments
function all_draws(img, mlx_ptr, array, height, width):
    initialize img for drawing (set up img, addr, etc.)

    for y from 0 to height - 2:
        for x from 0 to width - 2:
            draw_horizontal_segment(img, array, x, y)
            draw_vertical_segment(img, array, x, y)
        
        // Draw the last column segment for the current row
        draw_vertical_segment(img, array, width - 1, y)

    // Draw the last row
    draw_last_row(img, array, height - 1, width)
